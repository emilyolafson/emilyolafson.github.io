<!DOCTYPE html> <html lang=en > <meta charset=UTF-8  /> <meta name=viewport  content="width=device-width, initial-scale=1.0" /> <title>NYC Transit Routes</title> <link rel=preconnect  href="https://fonts.googleapis.com" /> <link rel=preconnect  href="https://fonts.gstatic.com" crossorigin /> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700;800&display=swap" rel=stylesheet  /> <style> /* â”€â”€â”€ Variables â”€â”€â”€ */ :root { --bg: #0a0a12; --felt: #0d0d1c; --surface: #131320; --surface2: #1c1c2e; --border: #252538; --border-glow: #5a4af4; --text: #e8e8f0; --text-muted: #6060a0; --accent: #7c6af7; --accent-bright:#a78bfa; --gold: #f0c040; --green-good: #5cdb6e; /* NYC Subway line colors */ --c1: #EE352E; /* 1 2 3 */ --c4: #00933C; /* 4 5 6 */ --c7: #B933AD; /* 7 */ --cA: #0039A6; /* A C E */ --cB: #FF6319; /* B D F M */ --cG: #6CBE45; /* G */ --cJ: #996633; /* J Z */ --cL: #A7A9AC; /* L */ --cN: #FCCC0A; /* N Q R W */ --cS: #808183; /* S */ --walk-color: #7ab0ff; } *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; } html { font-size: 16px; -webkit-font-smoothing: antialiased; } body { background-color: var(--bg); background-image: radial-gradient(ellipse 70% 50% at 15% 10%, rgba(90, 74, 244, 0.12) 0%, transparent 60%), radial-gradient(ellipse 60% 40% at 85% 90%, rgba(124, 106, 247, 0.08) 0%, transparent 60%), url("data:image/svg+xml,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='1' cy='1' r='0.5' fill='%235a4af4' opacity='0.06'/%3E%3C/svg%3E"); color: var(--text); font-family: 'Inter', system-ui, sans-serif; min-height: 100vh; padding: 2rem 1.5rem 4rem; } /* â”€â”€â”€ Page wrapper â”€â”€â”€ */ .page { max-width: 1100px; margin: 0 auto; } /* â”€â”€â”€ Back link â”€â”€â”€ */ .back-link { display: inline-flex; align-items: center; gap: 0.4rem; color: var(--text-muted); text-decoration: none; font-size: 0.8rem; margin-bottom: 2rem; letter-spacing: 0.03em; transition: color 0.15s; } .back-link:hover { color: var(--accent-bright); } /* â”€â”€â”€ Header â”€â”€â”€ */ .header { display: flex; flex-direction: column; align-items: center; text-align: center; margin-bottom: 2.5rem; gap: 0.75rem; } .title-card { display: inline-flex; align-items: center; gap: 0.9rem; background: var(--surface); border: 2px solid var(--border-glow); border-radius: 18px; padding: 1rem 2.25rem; box-shadow: 0 0 40px rgba(90, 74, 244, 0.25), 0 0 80px rgba(90, 74, 244, 0.08), inset 0 1px 0 rgba(255,255,255,0.04); position: relative; overflow: hidden; } .title-card::before { content: ''; position: absolute; inset: 0; background: linear-gradient(135deg, rgba(124,106,247,0.06) 0%, transparent 60%); pointer-events: none; } .title-suit { font-size: 1.4rem; opacity: 0.5; user-select: none; } .title-text { font-family: 'Space Grotesk', sans-serif; font-size: 2rem; font-weight: 800; letter-spacing: 0.08em; background: linear-gradient(135deg, #c4b5fd 0%, var(--gold) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; } .subtitle { font-size: 0.78rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.14em; } /* â”€â”€â”€ Search bar â”€â”€â”€ */ .search-bar { display: flex; gap: 1rem; align-items: flex-end; background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 1.1rem 1.4rem; margin-bottom: 2rem; box-shadow: 0 4px 24px rgba(0,0,0,0.3); } .search-field { flex: 1; } .search-field label { display: block; font-size: 0.68rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--text-muted); margin-bottom: 0.4rem; } .search-field input { width: 100%; background: var(--bg); border: 1px solid var(--border); border-radius: 10px; padding: 0.65rem 0.9rem; color: var(--text); font-family: inherit; font-size: 0.9rem; outline: none; transition: border-color 0.15s, box-shadow 0.15s; } .search-field input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(124,106,247,0.12); } .search-arrow { font-size: 1.2rem; color: var(--text-muted); padding-bottom: 0.65rem; flex-shrink: 0; } .search-btn { background: linear-gradient(135deg, var(--accent) 0%, #5a4af4 100%); color: white; border: none; border-radius: 10px; padding: 0.65rem 1.6rem; font-family: 'Space Grotesk', sans-serif; font-weight: 700; font-size: 0.82rem; letter-spacing: 0.08em; text-transform: uppercase; cursor: pointer; flex-shrink: 0; box-shadow: 0 0 20px rgba(124,106,247,0.35); transition: box-shadow 0.15s, transform 0.1s; } .search-btn:hover { box-shadow: 0 0 32px rgba(124,106,247,0.55); transform: translateY(-1px); } .search-btn:active { transform: translateY(0); } /* â”€â”€â”€ Main layout â”€â”€â”€ */ .main-layout { display: grid; grid-template-columns: 320px 1fr; gap: 1.5rem; align-items: start; } /* â”€â”€â”€ Routes panel â”€â”€â”€ */ .routes-panel { display: flex; flex-direction: column; gap: 0.75rem; } .panel-label { font-size: 0.68rem; text-transform: uppercase; letter-spacing: 0.12em; color: var(--text-muted); padding-left: 0.25rem; margin-bottom: 0.15rem; } /* â”€â”€â”€ Route card (Balatro card style) â”€â”€â”€ */ .route-card { background: var(--surface); border: 1.5px solid var(--border); border-radius: 16px; padding: 1.1rem 1.2rem; cursor: pointer; position: relative; overflow: hidden; transition: border-color 0.2s, box-shadow 0.2s, transform 0.15s; } /* suit marks in corners */ .route-card .suit-tl, .route-card .suit-br { position: absolute; font-size: 0.75rem; opacity: 0.2; line-height: 1; pointer-events: none; user-select: none; transition: opacity 0.2s; } .route-card .suit-tl { top: 0.55rem; left: 0.65rem; } .route-card .suit-br { bottom: 0.55rem; right: 0.65rem; transform: rotate(180deg); } .route-card:hover { border-color: rgba(124,106,247,0.5); transform: translateY(-2px); box-shadow: 0 8px 32px rgba(0,0,0,0.4); } .route-card:hover .suit-tl, .route-card:hover .suit-br { opacity: 0.45; } .route-card.active { border-color: var(--accent); box-shadow: 0 0 0 1px var(--accent), 0 0 28px rgba(124,106,247,0.3), 0 8px 32px rgba(0,0,0,0.4); } .route-card.active .suit-tl, .route-card.active .suit-br { opacity: 0.5; } .route-card::after { content: ''; position: absolute; inset: 0; border-radius: 16px; background: linear-gradient(135deg, rgba(124,106,247,0.06) 0%, transparent 50%); opacity: 0; transition: opacity 0.2s; pointer-events: none; } .route-card.active::after, .route-card:hover::after { opacity: 1; } .card-top { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 0.8rem; } .route-time { font-family: 'Space Grotesk', sans-serif; font-size: 2.2rem; font-weight: 700; line-height: 1; color: var(--text); } .route-time sup { font-size: 0.85rem; font-weight: 500; color: var(--text-muted); margin-left: 0.15rem; vertical-align: baseline; } .badge { font-size: 0.62rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; padding: 0.2rem 0.55rem; border-radius: 20px; margin-top: 0.25rem; } .badge.fastest { background: rgba(92,219,110,0.14); color: var(--green-good); border: 1px solid rgba(92,219,110,0.3); } .badge.fewer { background: rgba(167,139,250,0.14); color: var(--accent-bright); border: 1px solid rgba(167,139,250,0.3); } .badge.scenic { background: rgba(240,192,64,0.14); color: var(--gold); border: 1px solid rgba(240,192,64,0.3); } /* Mini segment strip */ .seg-strip { display: flex; align-items: center; gap: 2px; height: 7px; margin-bottom: 0.8rem; } .seg-strip .seg { height: 100%; border-radius: 4px; flex-shrink: 0; } .seg-strip .seg.walk { background: var(--walk-color); opacity: 0.5; } .card-footer { display: flex; align-items: center; justify-content: space-between; } .line-badges { display: flex; align-items: center; gap: 4px; } .lbadge { display: inline-flex; align-items: center; justify-content: center; width: 22px; height: 22px; border-radius: 50%; font-family: 'Space Grotesk', sans-serif; font-size: 0.72rem; font-weight: 700; flex-shrink: 0; color: white; box-shadow: 0 2px 6px rgba(0,0,0,0.5); } .lbadge.dark { color: #1a1201; } .arrow-sep { font-size: 0.7rem; color: var(--text-muted); } .arrive { font-size: 0.76rem; color: var(--text-muted); text-align: right; } .arrive strong { color: var(--accent-bright); font-weight: 600; } /* â”€â”€â”€ Path visualization panel â”€â”€â”€ */ .path-panel { background: var(--surface); border: 1px solid var(--border); border-radius: 18px; padding: 1.5rem 1.75rem; min-height: 400px; box-shadow: 0 4px 32px rgba(0,0,0,0.35); transition: opacity 0.2s; } .path-panel.fading { opacity: 0.3; } .path-header { display: flex; align-items: flex-start; justify-content: space-between; margin-bottom: 1.5rem; padding-bottom: 1.25rem; border-bottom: 1px solid var(--border); } .path-route-name { font-family: 'Space Grotesk', sans-serif; font-size: 1.15rem; font-weight: 700; margin-bottom: 0.25rem; } .path-times { font-size: 0.8rem; color: var(--text-muted); } .path-times strong { color: var(--text); } .path-total { font-family: 'Space Grotesk', sans-serif; font-size: 2rem; font-weight: 700; color: var(--accent-bright); line-height: 1; text-align: right; } .path-total small { font-size: 0.8rem; font-weight: 400; color: var(--text-muted); margin-left: 0.2rem; } /* â”€â”€â”€ Journey timeline â”€â”€â”€ */ .journey { display: flex; flex-direction: column; } .jstep { display: grid; grid-template-columns: 62px 24px 1fr; column-gap: 1rem; } .jstep-time { font-family: 'Space Grotesk', sans-serif; font-size: 0.76rem; font-weight: 600; color: var(--text-muted); text-align: right; padding-top: 1px; } .jstep-track { display: flex; flex-direction: column; align-items: center; } .jstep-dot { width: 12px; height: 12px; border-radius: 50%; border: 2px solid var(--border); background: var(--bg); flex-shrink: 0; z-index: 1; position: relative; top: 2px; } .jstep-dot.origin { width: 16px; height: 16px; background: var(--accent); border-color: var(--accent); box-shadow: 0 0 12px rgba(124,106,247,0.6); } .jstep-dot.dest { width: 16px; height: 16px; background: var(--gold); border-color: var(--gold); box-shadow: 0 0 12px rgba(240,192,64,0.6); } .jstep-line { width: 3px; flex: 1; min-height: 18px; margin-top: 2px; border-radius: 2px; } .jstep-line.dashed { width: 0; border-left: 3px dashed var(--walk-color); background: transparent !important; opacity: 0.45; } .jstep-line.empty { background: var(--border); opacity: 0.4; } .jstep-body { padding-bottom: 1.25rem; } .jstep-name { font-weight: 600; font-size: 0.9rem; color: var(--text); margin-bottom: 0.2rem; line-height: 1.3; } /* Walk segment styling */ .walk-row { display: flex; align-items: center; gap: 0.5rem; color: var(--walk-color); font-size: 0.82rem; font-weight: 500; } .walk-guy { font-size: 1.1rem; display: inline-block; animation: guy-walk 0.75s ease-in-out infinite alternate; } @keyframes guy-walk { from { transform: translateY(0) rotate(-4deg) scaleX(1); } to { transform: translateY(-3px) rotate(4deg) scaleX(-1); } } .walk-dots { display: flex; gap: 3px; align-items: center; } .walk-dots span { width: 3px; height: 3px; border-radius: 50%; background: var(--walk-color); animation: dot-pulse 1.1s ease-in-out infinite; } .walk-dots span:nth-child(2) { animation-delay: 0.2s; } .walk-dots span:nth-child(3) { animation-delay: 0.4s; } @keyframes dot-pulse { 0%, 100% { opacity: 0.2; transform: scale(0.8); } 50% { opacity: 0.9; transform: scale(1.2); } } /* Train segment */ .train-row { display: flex; align-items: center; gap: 0.5rem; font-size: 0.82rem; flex-wrap: wrap; } .train-row .lbadge { width: 20px; height: 20px; font-size: 0.68rem; } .station-pair { display: flex; align-items: center; gap: 0.4rem; color: var(--text-muted); } .station-pair .stn { color: var(--text); font-weight: 500; } .pill { display: inline-block; background: var(--surface2); border: 1px solid var(--border); border-radius: 20px; padding: 0.15rem 0.6rem; font-size: 0.7rem; color: var(--text-muted); margin-top: 0.3rem; } /* Transfer */ .transfer-row { display: flex; align-items: center; gap: 0.5rem; color: var(--gold); font-size: 0.82rem; font-weight: 500; } /* â”€â”€â”€ No result placeholder â”€â”€â”€ */ .path-placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 300px; color: var(--text-muted); gap: 0.75rem; } .path-placeholder .ph-icon { font-size: 2.5rem; opacity: 0.4; } .path-placeholder p { font-size: 0.85rem; } /* â”€â”€â”€ Responsive â”€â”€â”€ */ @media (max-width: 760px) { .main-layout { grid-template-columns: 1fr; } .routes-panel { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); } .search-bar { flex-wrap: wrap; } .search-btn { width: 100%; margin-top: 0.25rem; } } @media (max-width: 480px) { body { padding: 1.25rem 1rem 3rem; } .title-text { font-size: 1.5rem; } } </style> <div class=page > <a href="/" class=back-link >â† Emily Olafson</a> <header class=header > <div class=title-card > <span class=title-suit >â™ </span> <span class=title-text >NYC TRANSIT</span> <span class=title-suit >â™£</span> </div> <p class=subtitle >find every way to get there &middot; see the times &middot; pick your hand</p> </header> <div class=search-bar > <div class=search-field > <label>From</label> <input type=text  id=inp-from  value="Times Square â€“ 42 St" /> </div> <div class=search-arrow >â†’</div> <div class=search-field > <label>To</label> <input type=text  id=inp-to  value="Coney Island â€“ Stillwell Av" /> </div> <button class=search-btn  onclick="handleSearch()">Find Routes</button> </div> <div class=main-layout > <div class=routes-panel > <div class=panel-label  id=route-count >3 routes found</div> <div id=route-cards ></div> </div> <div class=path-panel  id=path-panel ></div> </div> </div> <script> /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */ const LINE_COLORS = { '1':'#EE352E','2':'#EE352E','3':'#EE352E', '4':'#00933C','5':'#00933C','6':'#00933C', '7':'#B933AD', 'A':'#0039A6','C':'#0039A6','E':'#0039A6', 'B':'#FF6319','D':'#FF6319','F':'#FF6319','M':'#FF6319', 'G':'#6CBE45', 'J':'#996633','Z':'#996633', 'L':'#A7A9AC', 'N':'#FCCC0A','Q':'#FCCC0A','R':'#FCCC0A','W':'#FCCC0A', 'S':'#808183', }; const LIGHT_LINES = new Set(['N','Q','R','W']); function lineFg(l) { return LIGHT_LINES.has(l) ? '#1a1201' : '#fff'; } /* Demo route data */ const ROUTES = [ { id: 0, name: 'A Express', suit: 'â™ ', depart: '3:32 PM', arrive: '4:17 PM', totalMin: 45, badge: { label: 'Fastest', cls: 'fastest' }, lines: ['A'], /* segment strip: [{type:'walk',w:px},{type:'train',line,w:px},...] */ strip: [ { type:'walk', w:16 }, { type:'train', line:'A', w:200 }, { type:'walk', w:12 }, ], /* journey steps */ steps: [ { type:'station', name:'Times Square â€“ 42 St', time:'3:32 PM', dot:'origin' }, { type:'walk', desc:'Walk to A/C/E entrance on 8th Ave', dur:'4 min', lineType:'dashed' }, { type:'station', name:'42 St â€“ Port Authority Bus Terminal', time:'3:36 PM', dot:'normal' }, { type:'train', line:'A', color:'#0039A6', from:'42 St â€“ Port Authority', to:'Coney Island â€“ Stillwell Av', stops:20, dur:'37 min', lineColor:'#0039A6' }, { type:'station', name:'Coney Island â€“ Stillwell Av', time:'4:13 PM', dot:'dest' }, { type:'walk', desc:'Walk to your destination', dur:'4 min', lineType:'dashed' }, { type:'end', name:'Destination', time:'4:17 PM', dot:'normal' }, ] }, { id: 1, name: 'Q Direct', suit: 'â™¦', depart: '3:32 PM', arrive: '4:22 PM', totalMin: 50, badge: { label: 'Fewest stops', cls: 'fewer' }, lines: ['Q'], strip: [ { type:'walk', w:10 }, { type:'train', line:'Q', w:210 }, { type:'walk', w:10 }, ], steps: [ { type:'station', name:'Times Square â€“ 42 St', time:'3:32 PM', dot:'origin' }, { type:'walk', desc:'Walk downstairs to N/Q/R/W platform', dur:'2 min', lineType:'dashed' }, { type:'station', name:'Times Sq â€“ 42 St (N/Q/R/W)', time:'3:34 PM', dot:'normal' }, { type:'train', line:'Q', color:'#FCCC0A', from:'Times Sq â€“ 42 St', to:'Stillwell Av', stops:19, dur:'46 min', lineColor:'#FCCC0A' }, { type:'station', name:'Coney Island â€“ Stillwell Av', time:'4:20 PM', dot:'dest' }, { type:'walk', desc:'Walk to your destination', dur:'2 min', lineType:'dashed' }, { type:'end', name:'Destination', time:'4:22 PM', dot:'normal' }, ] }, { id: 2, name: 'F â†’ D via Atlantic Av', suit: 'â™¥', depart: '3:32 PM', arrive: '4:30 PM', totalMin: 58, badge: { label: 'Scenic', cls: 'scenic' }, lines: ['F', 'D'], strip: [ { type:'walk', w:14 }, { type:'train', line:'F', w:100 }, { type:'walk', w:10 }, { type:'train', line:'D', w:100 }, { type:'walk', w:10 }, ], steps: [ { type:'station', name:'Times Square â€“ 42 St', time:'3:32 PM', dot:'origin' }, { type:'walk', desc:'Walk to B/D/F/M entrance on 6th Ave', dur:'5 min', lineType:'dashed' }, { type:'station', name:'42 St â€“ Bryant Park', time:'3:37 PM', dot:'normal' }, { type:'train', line:'F', color:'#FF6319', from:'42 St â€“ Bryant Park', to:'Atlantic Av â€“ Barclays Ctr', stops:9, dur:'22 min', lineColor:'#FF6319' }, { type:'transfer', at:'Atlantic Av â€“ Barclays Ctr', time:'3:59 PM', desc:'Transfer to B/D/Q trains â€“ same platform', dur:'5 min' }, { type:'train', line:'D', color:'#FF6319', from:'Atlantic Av â€“ Barclays Ctr', to:'Coney Island â€“ Stillwell Av', stops:7, dur:'22 min', lineColor:'#FF6319' }, { type:'station', name:'Coney Island â€“ Stillwell Av', time:'4:26 PM', dot:'dest' }, { type:'walk', desc:'Walk to your destination', dur:'4 min', lineType:'dashed' }, { type:'end', name:'Destination', time:'4:30 PM', dot:'normal' }, ] } ]; /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */ let activeIdx = 0; /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Render helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */ function lbadgeHtml(line, size = '') { const bg = LINE_COLORS[line] || '#888'; const fg = lineFg(line); const cls = LIGHT_LINES.has(line) ? 'lbadge dark' : 'lbadge'; return `<span class="${cls}" style="background:${bg};color:${fg};${size}">${line}</span>`; } function renderCards() { const wrap = document.getElementById('route-cards'); wrap.innerHTML = ROUTES.map((r, i) => { const active = i === activeIdx ? ' active' : ''; /* segment strip */ const strips = r.strip.map(s => { if (s.type === 'walk') { return `<div class="seg walk" style="width:${s.w}px"></div>`; } const bg = LINE_COLORS[s.line] || '#888'; return `<div class=seg  style="width:${s.w}px; background:${bg};"></div>`; }).join(''); /* line badges row */ const badgesHtml = r.lines.map((l, li) => { let out = lbadgeHtml(l); if (li < r.lines.length - 1) out += `<span class=arrow-sep >â€º</span>`; return out; }).join(''); return ` <div class="route-card${active}" onclick="selectRoute(${i})"> <span class=suit-tl >${r.suit}</span> <span class=suit-br >${r.suit}</span> <div class=card-top > <div class=route-time >${r.totalMin}<sup>min</sup></div> <span class="badge ${r.badge.cls}">${r.badge.label}</span> </div> <div class=seg-strip >${strips}</div> <div class=card-footer > <div class=line-badges >${badgesHtml}</div> <div class=arrive >Arrive <strong>${r.arrive}</strong></div> </div> </div>`; }).join(''); } function renderPath(idx) { const r = ROUTES[idx]; const panel = document.getElementById('path-panel'); let stepsHtml = ''; const steps = r.steps; for (let i = 0; i < steps.length; i++) { const s = steps[i]; const isLastStep = i === steps.length - 1; if (s.type === 'station' || s.type === 'end') { const dotCls = s.dot === 'origin' ? ' origin' : s.dot === 'dest' ? ' dest' : ''; const lineHtml = isLastStep ? '' : `<div class="jstep-line empty" style="min-height:16px;"></div>`; stepsHtml += ` <div class=jstep > <div class=jstep-time >${s.time || ''}</div> <div class=jstep-track > <div class="jstep-dot${dotCls}"></div> ${lineHtml} </div> <div class=jstep-body > <div class=jstep-name >${s.name}</div> </div> </div>`; } else if (s.type === 'walk') { stepsHtml += ` <div class=jstep > <div class=jstep-time ></div> <div class=jstep-track > <div class=jstep-dot ></div> <div class="jstep-line dashed"></div> </div> <div class=jstep-body > <div class=walk-row > <span class=walk-guy >ğŸš¶</span> <span>${s.desc}</span> <div class=walk-dots ><span></span><span></span><span></span></div> </div> <span class=pill >${s.dur}</span> </div> </div>`; } else if (s.type === 'train') { const bg = LINE_COLORS[s.line] || '#888'; const fg = lineFg(s.line); const badgeStyle = `background:${bg};color:${fg};width:20px;height:20px;font-size:0.68rem;`; stepsHtml += ` <div class=jstep > <div class=jstep-time ></div> <div class=jstep-track > <div class=jstep-dot  style="background:${bg};border-color:${bg};box-shadow:0 0 10px ${bg}88;"></div> <div class=jstep-line  style="background:${bg};opacity:0.9;"></div> </div> <div class=jstep-body > <div class=train-row > <span class="lbadge${LIGHT_LINES.has(s.line) ? ' dark' : ''}" style="${badgeStyle}">${s.line}</span> <div class=station-pair > <span class=stn >${s.from}</span> <span>â†’</span> <span class=stn >${s.to}</span> </div> </div> <span class=pill >${s.stops} stops Â· ${s.dur}</span> </div> </div>`; } else if (s.type === 'transfer') { stepsHtml += ` <div class=jstep > <div class=jstep-time >${s.time || ''}</div> <div class=jstep-track > <div class=jstep-dot  style="background:var(--gold);border-color:var(--gold);box-shadow:0 0 10px rgba(240,192,64,0.5);width:14px;height:14px;"></div> <div class="jstep-line empty"></div> </div> <div class=jstep-body > <div class=transfer-row > <span>â‡„</span> <span>${s.desc}</span> </div> <span class=pill >${s.dur}</span> </div> </div>`; } } panel.innerHTML = ` <div class=path-header > <div> <div class=path-route-name >${r.name}</div> <div class=path-times >Depart <strong>${r.depart}</strong> &nbsp;Â·&nbsp; Arrive <strong>${r.arrive}</strong></div> </div> <div class=path-total >${r.totalMin}<small>min</small></div> </div> <div class=journey >${stepsHtml}</div>`; } /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Interactions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */ function selectRoute(idx) { activeIdx = idx; renderCards(); const panel = document.getElementById('path-panel'); panel.classList.add('fading'); setTimeout(() => { renderPath(idx); panel.classList.remove('fading'); }, 150); } function handleSearch() { const btn = document.querySelector('.search-btn'); btn.textContent = 'Searchingâ€¦'; btn.disabled = true; setTimeout(() => { btn.textContent = 'Find Routes'; btn.disabled = false; /* flash cards */ document.querySelectorAll('.route-card').forEach((el, i) => { setTimeout(() => { el.style.transition = 'opacity 0.15s'; el.style.opacity = '0.4'; setTimeout(() => { el.style.opacity = '1'; }, 200); }, i * 80); }); }, 900); } /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */ renderCards(); renderPath(0); </script>